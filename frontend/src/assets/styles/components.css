

.btn {
  @apply inline-flex items-center justify-center rounded-md font-semibold text-sm;
  @apply rounded-md font-semibold text-sm;
  @apply transition-all duration-200;
  @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  @apply disabled:opacity-50 disabled:pointer-events-none;
}

/* Variante Principal (Acción destacada) */
.btn-accent {
  @apply bg-accent text-text-light hover:bg-accent-dark focus-visible:ring-accent;
}

.btn-primary {
  @apply bg-primary-dark text-text-light hover:bg-gray-900 focus-visible:ring-primary;
}
.btn-gradient-primary {
  @apply relative overflow-hidden bg-gradient-to-r from-primary-dark to-gray-600 text-text-light;
  @apply bg-[length:200%_100%] bg-left transition-all duration-300 ease-out;
  @apply hover:bg-right focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary;
}
.btn-gradient-secondary {
  @apply relative overflow-hidden bg-gradient-to-r from-indigo-700 to-blue-500 text-text-light;
  @apply bg-[length:200%_100%] bg-left transition-all duration-300 ease-out;
  @apply hover:bg-right focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent;
}
.btn-gradient-terciary {
  @apply relative overflow-hidden bg-gradient-to-r from-accent to-orange-800 text-text-light;
  @apply bg-[length:200%_100%] bg-left transition-all duration-300 ease-out;
  @apply hover:bg-right focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent;
}
.btn-gradient-terciary-2 {
  @apply relative overflow-hidden bg-gradient-to-r from-cyan-400 to-blue-500 text-text-light;
  @apply bg-[length:200%_100%] bg-left transition-all duration-300 ease-out;
  @apply hover:bg-right focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-600;
}
.btn-gradient-terciary-3 {
  @apply relative overflow-hidden bg-gradient-to-r from-surface-dark to-accent-light text-text;
  @apply bg-[length:200%_100%] bg-left transition-all duration-300 ease-out;
  @apply hover:bg-right focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-600;
}
/* Variante Secundaria (Acción alternativa) */
.btn-secondary {
  @apply bg-blue-500 text-text-light hover:bg-blue-600 focus-visible:ring-border-dark;
}

.btn-terciary {
  @apply bg-surface-dark text-text hover:bg-gray-300 focus-visible:ring-blue-500/70;
}
/* Variante de Peligro (Acciones destructivas) */
.btn-danger {
  @apply bg-error text-text-light hover:bg-red-700 focus-visible:ring-error;
}

/* Variante de Éxito (Acciones positivas) */
.btn-success {
  @apply bg-success text-text-light hover:bg-green-700 focus-visible:ring-success;
}

/* Variante "Fantasma" (Baja prominencia, usado para iconos) */
.btn-ghost {
  @apply bg-blue-500/50 text-text-light hover:bg-blue-500/25 focus-visible:ring-blue-500/70;
}

/* ==========================================================================
   3. Tamaños - Las dimensiones del botón
   ========================================================================== */
.btn-sm {
  @apply h-8 px-3 text-xs;
}

.btn-md {
  /* Tamaño por defecto */
  @apply h-10 px-4 py-2 text-sm;
}

.btn-lg {
  @apply h-12 px-6 text-base;
}
.btn-icon {
  @apply h-10 w-10;
  @apply rounded-full;
}



/* ==========================================================================
   Formularios - Estilos para Inputs, Labels, etc.
   ========================================================================== */

/* 1. Contenedor del Grupo de Formulario */
.form-group {
  @apply w-full;
}

/* 2. Etiqueta (Label) */
.form-label {
  @apply block mb-1 text-sm font-medium text-text;
}

/* 3. El Input en sí */
.form-input {
  /*
   * Apariencia base:
   * - `block w-full`: Ocupa todo el ancho disponible.
   * - `rounded-md`: Bordes redondeados consistentes con los botones.
   * - `border`: Define el borde. Usamos `border-transparent` en el estado de foco para que el "ring" se vea mejor.
   * - `bg-surface-darker`: Un fondo ligeramente gris para que se distinga del fondo principal.
   */
  @apply block w-full rounded-md border border-border-light bg-surface-dark px-3 py-2 text-sm text-text placeholder:text-text-muted;
  
  /*
   * Estado de Foco (PREMIUM):
   * - `focus:outline-none`: Quitamos el feo outline por defecto.
   * - `focus:border-accent`: Cambiamos el color del borde al color de acento.
   * - `focus:ring-2 focus:ring-accent/30`: Añadimos un "resplandor" (ring) sutil usando nuestro color de acento con opacidad.
   */
  @apply focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30;

  /*
   * Transición suave para una mejor UX
   */
  @apply transition-all duration-200;
}

/* 4. Clase Modificadora para el Estado de Error */
.form-input.is-invalid {
  /*
   * Sobrescribimos los estilos de borde y foco cuando hay un error.
   * `!border-error` usa `!important` para asegurar que este estilo prevalezca.
   */
  @apply !border-error;
  @apply focus:!ring-error/30;
}

/* 5. Contenedor para adornos (iconos, texto) */
.form-input-wrapper {
  /*
   * Es crucial que sea `relative` para que los adornos (prefix/suffix)
   * que serán `absolute` se posicionen correctamente dentro de este contenedor.
   */
  @apply relative;
}

/* 6. Adornos (Prefix y Suffix) */
.form-input-adornment {
  /*
   * Posicionamiento absoluto, centrado verticalmente.
   * `pointer-events-none` permite hacer clic "a través" del icono para enfocar el input.
   */
  @apply absolute top-0 bottom-0 flex items-center pointer-events-none;
  @apply text-text-muted;
}
.form-input-prefix {
  @apply left-3; /* Posición para el prefijo */
}
.form-input-suffix {
  @apply right-3; /* Posición para el sufijo */
}

/* 7. Texto de Ayuda y Error */
.form-help-text {
  @apply mt-1 text-xs text-text-muted;
}

.form-error-text {
  @apply mt-1 text-xs text-error;
}

.pl-10 {
  padding-left: 2.5rem; /* 10 * 0.25rem */
}
.pr-10 {
  padding-right: 2.5rem; /* 10 * 0.25rem */
}
/* 9. Utilidad para ocultar flechas de input numérico (Sin cambios) */
.hide-number-spinners,
.hide-number-spinners::-webkit-outer-spin-button,
.hide-number-spinners::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.hide-number-spinners[type='number'] {
  -moz-appearance: textfield;
}

/* 8. Animación de Sacudida (Shake) - ¡NUEVO! */
@keyframes shake {
  10%, 90% { transform: translateX(-1px); }
  20%, 80% { transform: translateX(2px); }
  30%, 50%, 70% { transform: translateX(-4px); }
  40%, 60% { transform: translateX(4px); }
}
.animate-shake {
  animation: shake 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

@keyframes bounce-scale {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}

.animate-bounce-scale {
  animation: bounce-scale 0.3s ease-in-out;
}


/* text areas*/

/* 1. Deshabilita el "handle" de redimensionamiento nativo del navegador.
      Lo usaremos cuando nuestro auto-resize esté activo para evitar conflictos.
*/
.resize-none {
  resize: none;
}



/* 2. Contenedor para la "fila de ayuda" que puede incluir el texto de ayuda/error y el contador.
      Usamos flexbox para alinear los elementos.
*/
.form-footer {
  @apply mt-1 flex items-center justify-between;
}

/* 3. Estilo para el contador de caracteres.
      Pequeño, a la derecha y con un color sutil.
*/
.form-counter {
  @apply pl-2 text-xs text-text-muted;
}

/* 4. Clase modificadora para cuando se excede el límite de caracteres.
*/
.form-counter.is-exceeded {
  @apply font-bold text-error;
}



/* SELECT INPUT*/

/* 1. El <select> en sí mismo
      - Reutilizamos la clase .form-input para heredar TODOS los estilos base:
        borde, fondo, padding, estado de foco, etc.
      - `appearance-none`: ¡Esta es la clave! Oculta la apariencia por defecto
        del sistema operativo, incluyendo la flecha nativa.
*/
.select-native {
  @apply block w-full rounded-md border border-border-light bg-surface-darker px-3 py-2 text-sm text-text placeholder:text-text-muted;
  @apply appearance-none focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30;
  @apply transition-all duration-200;
  @apply disabled:opacity-50 disabled:pointer-events-none;
  @apply text-text;
}

/* 2. Clase para el texto del placeholder (cuando no hay nada seleccionado)
*/
.select-native:invalid {
  @apply text-text-muted;
}


/* 3. El Wrapper del Select
      - Necesita ser 'relative' para que podamos posicionar nuestro
        propio icono de flecha de forma absoluta dentro de él.
*/
.select-native-wrapper {
  @apply relative;
}

/* 4. Nuestro Icono de Flecha Personalizado
      - Posicionado de forma absoluta a la derecha.
      - `pointer-events-none`: Crucial. Permite que el usuario haga clic
        "a través" del icono para abrir el <select> nativo.
*/
.select-native-chevron {
  @apply pointer-events-none absolute inset-y-0 right-3 flex items-center text-accent text-2xl;
  
}

/* ... (Código de BaseButton, BaseInput, etc.) ... */

/* ==========================================================================
   Controles de Selección (Checkbox y Radio)
   ========================================================================== */

/* --- Base para Checkbox --- */

.checkbox-wrapper {
  @apply inline-flex cursor-pointer items-center;
}

.checkbox-native-input {
  @apply absolute h-0 w-0 cursor-pointer opacity-0;
}

.checkbox-box {
  @apply relative h-5 w-5 ml-3 flex-shrink-0 rounded-md border-2 border-border-dark bg-surface-darker transition-all duration-200;
}

.checkbox-label {
  @apply ml-1 select-none text-sm text-text;
}

.checkbox-indicator {
  @apply pointer-events-none absolute inset-0 flex items-center justify-center text-transparent transition-all duration-200;
}

/* ESTADOS CHECKBOX */
.checkbox-native-input:checked ~ .checkbox-box {
  @apply border-accent bg-accent;
}
.checkbox-native-input:checked ~ .checkbox-box .checkbox-indicator {
  @apply text-text-light;
}
.checkbox-native-input:indeterminate ~ .checkbox-box {
  @apply border-accent bg-accent;
}
.checkbox-native-input:indeterminate ~ .checkbox-box .checkbox-indicator {
  @apply text-text-light;
}
.checkbox-native-input:focus-visible ~ .checkbox-box {
  @apply ring-2 ring-accent/30 ring-offset-2 ring-offset-surface;
}
.checkbox-native-input:disabled ~ .checkbox-box,
.checkbox-native-input:disabled ~ .checkbox-label {
    @apply cursor-not-allowed opacity-50;
}


/* --- Base para Radio --- */

.radio-wrapper {
  @apply inline-flex cursor-pointer items-center;
}

.radio-native-input {
  @apply absolute h-0 w-0 cursor-pointer opacity-0;
}

.radio-box {
  @apply relative h-5 w-5 flex-shrink-0 rounded-full border-2 border-border-dark bg-surface-darker transition-all duration-200;
}

.radio-label {
  @apply ml-3 select-none text-sm text-text;
}

/* El punto interior del radio */
.radio-indicator {
  @apply absolute inset-0 m-auto h-2.5 w-2.5 scale-0 rounded-full bg-accent transition-transform duration-200;
}

/* ESTADOS RADIO */
.radio-native-input:checked ~ .radio-box {
  @apply border-accent;
}
.radio-native-input:checked ~ .radio-box .radio-indicator {
  @apply scale-100;
}
.radio-native-input:focus-visible ~ .radio-box {
  @apply ring-2 ring-accent/30 ring-offset-2 ring-offset-surface;
}
.radio-native-input:disabled ~ .radio-box,
.radio-native-input:disabled ~ .radio-label {
    @apply cursor-not-allowed opacity-50;
}

.form-row {
  @apply grid grid-cols-1 md:grid-cols-[repeat(var(--grid-cols),_minmax(0,_1fr))] gap-4;
}

/* ... mismos estilos que en la respuesta anterior ... */
.form-header { @apply border-b border-border-dark pb-4 mb-4; }
.form-actions { @apply flex justify-end gap-3 pt-4 border-t border-border-dark; }
.form-disabled { @apply opacity-70 cursor-not-allowed; }


.alert-modal {
  @apply bg-surface border-border-light relative flex flex-col items-center p-6 pt-12 text-center rounded-2xl w-full max-w-sm mx-auto shadow-2xl;
  
}

.icon-shroud {
  @apply absolute -top-10 flex items-center justify-center w-20 h-20 rounded-full border-4 border-surface;
  /* Sombra sutil que coincide con el color del icono */
  box-shadow: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
}
.bg-success { --tw-shadow-color: rgba(34, 197, 94, 0.3); }
.bg-warning { --tw-shadow-color: rgba(255, 160, 0, 0.3); }
.bg-error { --tw-shadow-color: rgba(211, 47, 47, 0.3); }
.bg-info { --tw-shadow-color: rgba(25, 118, 210, 0.3); }

.icon-main {
  @apply w-11 h-11 text-white;
}

.content-wrapper {
  @apply mt-2;
}

.title {
  @apply text-2xl font-bold text-text;
  /* Mejora el balance de texto en títulos cortos */
  text-wrap: balance;
}

.message {
  @apply mt-2 text-base text-text-muted;
  /* Mejora la legibilidad en párrafos */
  text-wrap: pretty;
}

.actions-wrapper {
  @apply grid grid-cols-2 gap-4 w-full mt-8;
}

.button-cancel, .button-confirm {
  @apply w-full px-4 py-3 rounded-xl font-semibold text-base transition-all duration-200 ease-in-out;
  @apply focus:outline-none focus:ring-4;
}
.button-cancel:active, .button-confirm:active {
  @apply scale-95;
}

.button--cancel {
  
  @apply bg-gray-300 focus:ring-gray-300 text-text;
}
.button--cancel:hover {
 @apply bg-gray-200
}

.button--accent {

  @apply focus:ring-success-light text-text bg-success;
}
.button--accent:hover {
 @apply bg-success-light
}

.button--error {

  @apply focus:ring-red-300 bg-error text-text-light;
}
.button--error:hover {
  @apply bg-error-light
}

.button--warning {
 
  @apply focus:ring-yellow-300 bg-warning text-text;
}
.button--warning:hover {
  @apply bg-accent-light
}

.button--info {

  @apply focus:ring-blue-300 bg-info text-text-light;
}
.button--info:hover {
  @apply bg-info-light
}

/* Estilos del Contenedor Principal */
.presenter-container {
  @apply fixed inset-0 z-50 flex items-center justify-center p-4;
  /* Importante: El contenedor ya no maneja la opacidad, lo hacen sus hijos. */
}

/* Estilos del Overlay */
.overlay {
  @apply absolute inset-0 bg-primary/70; /* Aumenté un poco la opacidad para un mejor efecto */

}

/* Transición SUAVE para el Overlay (color + blur) */
.overlay-fade-enter-active {
  transition: opacity 0.3s ease-out;
}
.overlay-fade-leave-active {
  transition: opacity 0.2s ease-in;
}
.overlay-fade-enter-from,
.overlay-fade-leave-to {
  opacity: 0;
}

/* Transición para el Modal (la que ya tenías) */
.modal-bounce-enter-active {
  transition: all 0.3s ease-out;
}
.modal-bounce-leave-active {
  transition: all 0.2s ease-in;
}
.modal-bounce-enter-from,
.modal-bounce-leave-to {
  opacity: 0;
  transform: scale(0.9) translateY(-1rem);
}



